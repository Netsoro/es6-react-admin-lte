{"version":3,"sources":["../../../src/js/components/post/post.jsx"],"names":["commonFuncs","Post","props","state","message","toggleCollapse","bind","removeBox","onSendMessage","e","box","findDOMNode","children","boxBody","icon","currentTarget","toggleBoxCollapse","preventDefault","stopPropagation","onSubmit","comments","postData","map","commentDetails","i","name","img","date","content","postImg","attachments","attachmentDetails","title","link","onClick","markup","width","displayImg","displayName","status","userImg","setState","value","Component","propTypes","string","oneOfType","number","object","func","defaultProps"],"mappings":"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","file":"post.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Comment from './comment.jsx';\nimport Attachment from './attachment.jsx';\nimport * as commonFuncs from '../../services/common-functions';\nimport PropTypes from 'prop-types';\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { message: '' };\n    this.toggleCollapse = this.toggleCollapse.bind(this);\n    this.removeBox = this.removeBox.bind(this);\n    this.onSendMessage = this.onSendMessage.bind(this);\n  }\n\n  toggleCollapse(e) {\n    const box = ReactDOM.findDOMNode(this).children[0];\n    const boxBody = ReactDOM.findDOMNode(this).children[0].children[1];\n    const icon = e.currentTarget.children[0];\n    commonFuncs.toggleBoxCollapse(box, boxBody, icon);\n  }\n\n  removeBox(e) {\n    const box = ReactDOM.findDOMNode(this).children[0];\n    commonFuncs.removeBox(box);\n  }\n\n  onSendMessage(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onSubmit(this.state.message);\n  }\n\n  render() {\n    const comments = this.props.postData.comments ? this.props.postData.comments.map((commentDetails, i) => {\n      return (\n        <Comment key={i} name={commentDetails.name} img={commentDetails.img} date={commentDetails.date} content={commentDetails.content} />\n      );\n    }) : [];\n    const postImg = this.props.postData.postImg ? <img className=\"img-responsive pad\" src={this.props.postData.postImg} alt=\"Photo\" /> : '';\n    const attachments = this.props.postData.attachments ? this.props.postData.attachments.map((attachmentDetails, i) => {\n      return (\n        <Attachment\n          key={i}\n          title={attachmentDetails.title}\n          img={attachmentDetails.img}\n          link={attachmentDetails.link}\n          onClick={attachmentDetails.onClick}\n          content={attachmentDetails.content}\n        >\n          {attachmentDetails.markup}\n        </Attachment>\n      );\n    }) : [];\n    return (\n      <div className={\"col-md-\" + this.props.width}>\n        <div className=\"box box-widget\">\n          <div className=\"box-header with-border\">\n            <div className=\"user-block\">\n              <img className=\"img-circle\" src={this.props.postData.displayImg} alt=\"User image\" />\n              <span className=\"username\">\n                <a\n                  href={this.props.postData.link}\n                  onClick={this.props.postData.onClick ? e => {\n                     e.preventDefault();\n                     e.stopPropagation();\n                     this.props.postData.onClick();\n                   } : () => {}}\n                >\n                  {this.props.postData.displayName}\n                </a>\n              </span>\n              <span className=\"description\">\n                {this.props.postData.status}\n                {this.props.postData.status && this.props.postData.date ? ' - ' : ''}\n                {this.props.postData.date}\n              </span>\n            </div>\n            <div className=\"box-tools\">\n                <button className=\"btn btn-box-tool\" data-widget=\"collapse\" onClick={this.toggleCollapse}>\n                  <i className=\"fa fa-minus\" />\n                </button>\n                <button className=\"btn btn-box-tool\" data-widget=\"remove\" onClick={this.removeBox}>\n                  <i className=\"fa fa-times\" />\n                </button>\n            </div>\n          </div>\n          <div className=\"box-body\">\n            {postImg}\n            <p>{this.props.postData.content}</p>\n            {attachments}\n            {this.props.children}\n          </div>\n          <div className=\"box-footer box-comments\">\n            {comments}\n          </div>\n          <div className=\"box-footer\">\n            <form noValidate onSubmit={this.onSendMessage}>\n              {this.props.userImg ? <img className=\"img-responsive img-circle img-sm\" src={this.props.userImg} alt=\"alt text\" /> : ''}\n              <div className={this.props.userImg ? 'img-push' : ''}>\n                <input\n                  type=\"text\"\n                  className=\"form-control input-sm\"\n                  placeholder=\"Press enter to post comment\"\n                  onChange={e => { this.setState({ message: e.currentTarget.value }); }}\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nPost.propTypes = {\n  userImg: PropTypes.string,\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  postData: PropTypes.object,\n  onSubmit: PropTypes.func\n};\nPost.defaultProps = {\n  width: 3,\n  onSubmit: () => {}\n};\n\nexport default Post;\n"]}